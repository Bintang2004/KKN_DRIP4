<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Drip Irrigation Monitoring System - KKN-PPM UGM 2025</title>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Memuat jQuery dari CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Memuat Chart.js dan adapter waktu -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@latest"></script>
  </head>
  <body>
    <div class="grid-container">

      <!-- Header -->
      <header class="header">
        <div class="header-left">
          <div class="judul">Drip Irrigation Monitoring System</div>
          <div class="subtitle">KKN-PPM UGM 2025 - Kelurahan Tanah Jaya</div>
          <div class="button-group">
            <button class="toggle-button first active" onclick="loadData('daily');setActive(this)">Daily</button>
            <button class="toggle-button middle" onclick="loadData('weekly');setActive(this)">Weekly</button>
            <button class="toggle-button last" onclick="loadData('monthly');setActive(this)">Monthly</button>
          </div>
        </div>
        <div class="header-right">
          <div class="text">
            <div class="nama">CITTA BULUKUMBA</div>
            <div class="waktu">
              <div class="hari" id="hari"></div>
              <div class="jam" id="jam"></div>
            </div>
          </div>
          <img class="gambar" src="img/LOGO  KKN.png" alt="Logo KKN-PPM UGM 2025">
        </div>
      </header>
      <!-- End Header -->
    
      <!-- Main -->
      <main class="main-container">
        <div class="charts">
          <div class="charts-card">
            <div class="chart-title-container">
              <h2 class="chart-title">Water Level</h2>
            </div>
            <canvas id="chart1"></canvas>
            <div class="chart-message" id="chart1-message"></div>
            <div class="average-container" id="average1">
              <span class="average-label">Rerata: </span>
              <span class="average-value"></span>
            </div>
          </div>
          <div class="charts-card">
            <div class="chart-title-container">
              <h2 class="chart-title">Soil Humidity</h2>
            </div>
            <canvas id="chart2"></canvas>
            <div class="chart-message" id="chart2-message"></div>
            <div class="average-container" id="average2">
              <span class="average-label">Rerata: </span>
              <span class="average-value"></span>
            </div>
          </div>
          <div class="charts-card status-card">
            <div class="chart-title-container">
              <h2 class="chart-title">System Status</h2>
            </div>
            <div class="status-content">
              <div class="status-item">
                <div class="status-indicator" id="water-status"></div>
                <span>Water Supply</span>
              </div>
              <div class="status-item">
                <div class="status-indicator" id="pump-status"></div>
                <span>Pump System</span>
              </div>
              <div class="status-item">
                <div class="status-indicator" id="irrigation-status"></div>
                <span>Irrigation Active</span>
              </div>
            </div>
          </div>
          <div class="charts-card info-card">
            <div class="chart-title-container">
              <h2 class="chart-title">Quick Info</h2>
            </div>
            <div class="info-content">
              <div class="info-item">
                <div class="info-label">Last Irrigation:</div>
                <div class="info-value" id="last-irrigation">--:--</div>
              </div>
              <div class="info-item">
                <div class="info-label">Next Schedule:</div>
                <div class="info-value" id="next-schedule">--:--</div>
              </div>
              <div class="info-item">
                <div class="info-label">Water Usage Today:</div>
                <div class="info-value" id="water-usage">-- L</div>
              </div>
            </div>
          </div>
        </div>
        <div class="footer">
          <div class="footer-left">
            <div class="dropdown">
              <label for="location">Pilih Area:</label>
              <select name="location" id="location">
                <option value="area1">Area Tanaman A</option>
                <option value="area2">Area Tanaman B</option>
                <option value="area3">Area Tanaman C</option>
                <option value="area4">Area Greenhouse 1</option>
                <option value="area5">Area Greenhouse 2</option>
                <option value="area6">Area Nursery</option>
                <option value="area7">Area Kompos</option>
              </select>
            </div>
          </div>
        
          <div class="footer-center">
            <p>&copy; 2025 KKN-PPM UGM - Citta Bulukumba. All rights reserved.</p>
          </div>
        
          <div class="footer-right">
            <button id="download-report" class="toggle-button">Download CSV</button>
          </div>
        </div>
      </main>
      <!-- End Main -->
    
    </div>
    
    <!-- Scripts -->
    <!-- Custom JS -->
    <script src="js/thingspeaks.js"></script>
    <script src="js/download.js"></script>
  </body>
</html>